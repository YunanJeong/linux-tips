# network

## ufw

```sh
# 인바운드 아웃바운드 설정 조회
sudo ufw status
```

## telnet

```sh
# 원격 연결
# 대상 서버의 특정 앱이 살아있는지 확인할 때 유용
# 특정 포트에 대한 네트워크 인가 확인 가능 (해당 포트에 대상 앱도 켜져있어야 함)
# Ubuntu windows 둘 다 기본앱으로 탑재되어 있음
telnet {IP} {Port}
```

## nc(netcat)

```sh
# 80번 포트로 임시 서버 열기
# telnet과 조합이 좋음
# telnet으로 네트워크 테스트시, 대상 포트에 실제 앱이 켜져있어서 리스닝 상태여야 한다.
nc -lk 80

# -l: listen (리스닝모드 설정. 인바운드 통신 대기)
# -p: port. p옵션은 일반적으로 생략가능
# -k: keep-alive. (연결종료돼도 리스닝모드 유지)
```

## 네트워크 인가 여부 확인

- 포트 열기
  - `nc`로 임시 서버를 켜서 포트를 리스닝모드로 점유가능

- `telnet` 명령어
  - 윈도, 우분투 모두에서 사용가능하다.
  - ip와 port사이는 콜론이 아니라 띄어쓰기다.

  - telnet 쓰기 전에 해당 포트가 열려 있어야 한다. (해당 포트에 아무 서버라도 켜놓으면 된다.)
    - elasticsearch, td-agent 등 상관없다. 없으면 nc -lk {port}로 임시서버를 활용한다.

- telnet 반응
  - 네트워크 인가가 잘되어있고 해당 포트가 열려있으면,
    - cmd창이 메시지를 보낼 수 있는 prompt로 전환된다.
    - 켜져있는 서버에 따라 cmd창 전환만 되고 렉걸릴 수 있다.
    - 네트워크 인가가 되어있지 않거나, 해당 포트가 열려있지않으면
      => 연결 대상 x.x.x.x ... 라는 메시지에서 멈춘다. (타임아웃까지 기다림)
      => 또는 호스트에 연결할 수 없습니다. 라는 메시지까지 나온다.
